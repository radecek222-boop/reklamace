<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WGS ‚Äì White Glove Service</title>

<style>
/* üåå Z√ÅKLAD */
html,body {
  height:100%;
  margin:0;
  font-family:"Inter",system-ui,sans-serif;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
  background: radial-gradient(circle at 30% 30%, #1e1f25, #111);
}
body::before {
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(135deg,#007bff55,#00e0ff33,#111);
  filter:blur(100px);
  animation:moveBg 12s ease-in-out infinite alternate;
  z-index:-2;
}
@keyframes moveBg {
  0%{transform:translate(-10%,-10%) scale(1);}
  100%{transform:translate(10%,10%) scale(1.2);}
}

/* üßä HERO OBSAH */
.wrapper {
  text-align:center;
  z-index:2;
  padding:40px;
  border-radius:30px;
  backdrop-filter:blur(20px);
  background:rgba(255,255,255,0.05);
  box-shadow:0 0 40px rgba(255,255,255,0.05);
}
h1 {
  font-size:8em;
  font-weight:900;
  letter-spacing:-3px;
  background:linear-gradient(90deg,#00c6ff,#0072ff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  margin:0;
}
h2 {
  text-transform:uppercase;
  font-size:1.4em;
  letter-spacing:4px;
  margin:10px 0 8px;
  color:#cdd7ff;
}
h3 {
  color:#aaa;
  margin-bottom:60px;
  font-weight:400;
}

/* üß© TLAƒå√çTKA */
.btn-container {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
}
.btn {
  padding:14px 36px;
  border:none;
  border-radius:12px;
  font-weight:600;
  font-size:1em;
  color:#fff;
  cursor:pointer;
  text-decoration:none;
  background:linear-gradient(135deg,#007bff,#00e0ff);
  box-shadow:0 0 20px rgba(0,255,255,0.3);
  transition:transform 0.2s,box-shadow 0.3s,opacity 0.3s;
  min-width:230px;
}
.btn:hover {
  transform:translateY(-3px);
  box-shadow:0 0 35px rgba(0,255,255,0.6);
  opacity:0.95;
}

/* üå´Ô∏è MODAL ‚Äì v√Ωbƒõr typu po≈æadavku */
.overlay {
  position:fixed;inset:0;
  background:rgba(0,0,0,0.7);
  backdrop-filter:blur(10px);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:1000;
}
.box {
  background:rgba(30,30,40,0.9);
  padding:40px 30px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 0 25px rgba(0,0,0,0.5);
  animation:fadeIn .3s ease;
}
@keyframes fadeIn {from{opacity:0;transform:scale(0.9);}to{opacity:1;transform:scale(1);}}
.box h2 {margin:0;color:#fff;}
.box label {color:#ddd;font-weight:500;}
.error-text {color:#ff4d4d;font-weight:600;margin-top:10px;display:none;}
</style>
</head>

<body>
  <div class="wrapper">
    <h1>WGS</h1>
    <h2>WHITE GLOVE SERVICE</h2>
    <h3>specializovan√Ω autorizovan√Ω servis Natuzzi</h3>

    <div class="btn-container">
      <button class="btn" id="openRequestDialog">Odeslat po≈æadavek</button>
    </div>
  </div>

  <!-- ü™ü MODAL ‚Äì v√Ωbƒõr typu -->
  <div class="overlay" id="requestDialog">
    <div class="box">
      <h2>Vyberte typ po≈æadavku</h2>
      <p style="color:#ccc;margin:10px 0;">Zvolte, kdo odes√≠l√° formul√°≈ô:</p>
      <div style="margin:20px 0;display:flex;flex-direction:column;gap:12px;">
        <label><input type="radio" name="reqType" value="prodejce"> Prodejce (Nov√° reklamace)</label>
        <label><input type="radio" name="reqType" value="zakaznik"> Z√°kazn√≠k (Poz√°ruƒçn√≠ servis)</label>
      </div>
      <div id="reqError" class="error-text">‚ö†Ô∏è Vyberte jednu z mo≈ænost√≠</div>
      <div style="display:flex;gap:12px;margin-top:25px;">
        <button id="confirmReq" style="flex:1;">Potvrdit</button>
        <button id="cancelReq" style="flex:1;background:linear-gradient(135deg,#555,#777);">Zru≈°it</button>
      </div>
    </div>
  </div>

<script>
const reqDialog=document.getElementById("requestDialog");
document.getElementById("openRequestDialog").onclick=()=>reqDialog.style.display="flex";
document.getElementById("cancelReq").onclick=()=>reqDialog.style.display="none";
document.getElementById("confirmReq").onclick=()=>{
  const choice=document.querySelector('input[name="reqType"]:checked');
  const err=document.getElementById("reqError");
  if(!choice){err.style.display="block";return;}
  err.style.display="none";
  reqDialog.style.display="none";
  if(choice.value==="prodejce"){
    window.location.href="novareklamace.html?typ=prodejce";
  } else {
    window.location.href="novareklamace.html?typ=zakaznik";
  }
};
</script>
</body>
  
</html>
<!-- üíæ Odesl√°n√≠ -->
<div class="actions">
  <a href="index.html" class="btn btn-back">‚üµ Zpƒõt</a>
  <button type="submit" class="btn btn-send">Odeslat</button>
</div>

<style>
.actions {
  display:flex;
  justify-content:center;
  gap:16px;
  margin:35px 0;
}
</style>

</form> <!-- ‚úÖ konec formul√°≈ôe -->
</div> <!-- ‚úÖ konec wrapperu -->

<!-- ‚úÖ Overlay animace -->
<div class="wait-overlay" id="waitOverlay">
  <div class="spinner"></div>
  <p>Odes√≠l√°m data‚Ä¶</p>
</div>

<div class="success-check" id="successCheck">
  <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
    <circle cx="26" cy="26" r="25" fill="none"/>
    <path fill="none" d="M14 27l7 7 16-16" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  <div class="check-text">Odesl√°no √∫spƒõ≈°nƒõ!</div>
</div>

<style>
.wait-overlay,.success-check {
  display:none;
  position:fixed;
  inset:0;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  backdrop-filter:blur(10px);
  z-index:5000;
}
.wait-overlay {background:rgba(10,20,15,0.8);color:#fff;font-weight:600;}
.success-check {background:rgba(10,20,15,0.8);color:#aefcd8;font-weight:700;}
.wait-overlay.active,.success-check.active {display:flex;}
.spinner {
  border:5px solid rgba(255,255,255,0.1);
  border-top:5px solid #00e0a6;
  border-radius:50%;
  width:55px;height:55px;
  animation:spin 1s linear infinite;
  margin-bottom:14px;
}
@keyframes spin {0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
.checkmark {
  width:90px;height:90px;stroke:#00e0a6;stroke-width:3;
  fill:none;stroke-dasharray:48;stroke-dashoffset:48;
  animation:draw 1s ease forwards;margin-bottom:12px;
}
@keyframes draw {to{stroke-dashoffset:0;}}
</style>

<script>
/* üß≠ Rozpozn√°n√≠ typu z URL (?typ=zakaznik nebo ?typ=prodejce) */
const params = new URLSearchParams(window.location.search);
const typ = params.get("typ");

/* üìã Najdeme prvky */
const cisloInput = document.querySelector('input[name="cislo"]');
const datumProdeje = document.querySelector('input[name="datum_prodeje"]')?.closest("label,div") || document.getElementById("datumProdejeRow");
const datumReklamace = document.querySelector('input[name="datum_reklamace"]')?.closest("label,div") || document.getElementById("datumReklamaceRow");
const zadavatelSekce = document.getElementById("zadavatelBox") || document.querySelector(".zadavatel-section");

/* üí° Pokud z√°kazn√≠k ‚Üí poz√°ruƒçn√≠ servis */
if (typ === "zakaznik") {
  if (cisloInput) cisloInput.value = "Poz√°ruƒçn√≠ servis";
  if (datumProdeje) datumProdeje.style.display = "none";
  if (datumReklamace) datumReklamace.style.display = "none";
  if (zadavatelSekce) zadavatelSekce.style.display = "none";
}

/* üîÑ Prodejce = klasick√Ω formul√°≈ô */
if (typ === "prodejce" && cisloInput?.value === "Poz√°ruƒçn√≠ servis") {
  cisloInput.value = "";
}

/* üíæ Odesl√°n√≠ */
document.getElementById("reklamaceForm").addEventListener("submit", async e => {
  e.preventDefault();
  const wait = document.getElementById("waitOverlay");
  const done = document.getElementById("successCheck");
  wait.classList.add("active");

  const f = e.target;
  const pred = f.querySelector("#predvolba");
  const data = {
    type: "reklamace",
    cislo: f.cislo.value,
    zakaznik: f.zakaznik.value,
    adresa: `${f.ulice.value}, ${f.mesto.value}, ${f.psc.value}`,
    telefon: `${pred.value} ${f.telefon.value}`,
    email: f.email.value,
    produkt: f.produkt.value,
    popis: f.popis.value,
    fotky: (window.uploadedPhotos || []).map(p => p.filename || ""),
    typ: typ || "prodejce"
  };

  try {
    await fetch("https://wgs-token.72nvwf4pb2.workers.dev/temporaryfiles", {
      method: "POST",
      headers: {"Content-Type":"application/json"},
      body: JSON.stringify({record:data})
    });
    wait.classList.remove("active");
    done.classList.add("active");
    setTimeout(() => window.location.href="index.html", 2500);
  } catch (err) {
    wait.classList.remove("active");
    alert("Chyba p≈ôi odes√≠l√°n√≠: " + err.message);
  }
});
</script>

<footer class="footer">
  <div>¬© 2025 White Glove Service s.r.o.</div>
  <div>specializovan√Ω autorizovan√Ω servis Natuzzi</div>
</footer>

<style>
.footer {
  text-align:center;
  color:#aaa;
  font-size:0.85em;
  padding:30px 0 20px;
  opacity:0.7;
}
.footer:hover {opacity:1;color:#cfc;}
</style>

</body>
</html>
