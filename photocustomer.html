<!-- üü© ZAƒå√ÅTEK ƒå√ÅSTI 1/3 ‚Äì HLAVIƒåKA + Z√ÅKAZN√çK (BEZ NADPISU PHOTO) -->
<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Photo ‚Äì White Glove Service</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

<style>
body {
  font-family:"Inter",sans-serif;
  background:#f6f7fb;
  margin:0;
  padding:0;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  min-height:100vh;
}
.wrapper {
  background:#fff;
  margin:40px 15px;
  padding:30px;
  border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
  width:100%;
  max-width:750px;
}
h1 {
  text-align:center;
  font-size:2.4em;
  font-weight:900;
  color:#111;
  margin:0 0 5px;
}
h2 {
  text-align:center;
  font-size:1.1em;
  font-weight:500;
  color:#666;
  margin:0 0 25px;
}
#customerHeader {
  background:#f1f1f1;
  border:1px solid #ccc;
  border-radius:10px;
  padding:18px;
  text-align:center;
  margin-bottom:25px;
}
#customerHeader h3 {
  margin:0 0 4px;
  font-size:1.3em;
  font-weight:700;
  color:#111;
}
#customerHeader p {
  margin:3px 0;
  color:#333;
  font-size:0.95em;
}
.subtitle {
  font-size:0.8em;
  color:#666;
  display:block;
  margin-top:2px;
}
</style>
</head>

<body>
<div class="wrapper">
  <h1>WHITE GLOVE SERVICE</h1>
  <h2>Photo documentation</h2>

  <div id="customerHeader">
    <h3>Naƒç√≠t√°m √∫daje z√°kazn√≠ka...</h3>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded",()=>{
    const data=JSON.parse(localStorage.getItem("currentCustomer")||"{}");
    const h=document.getElementById("customerHeader");
    if(data.zakaznik){
      h.innerHTML=`<h3>${data.zakaznik}</h3>
      <p>${data.adresa||""}</p>
      ${data.cislo?`<p>ƒå√≠slo zak√°zky / Order number: <strong>${data.cislo}</strong></p>`:""}`;
    }else{
      h.innerHTML="<h3>Z√°kazn√≠k nebyl nalezen / Customer not found</h3>";
    }
  });
  </script>
<!-- üü© KONEC ƒå√ÅSTI 1/3 -->




<!-- üü© ZAƒå√ÅTEK ƒå√ÅSTI 2/3 ‚Äì BLOKY FOTEK + MOD√ÅLN√ç N√ÅHLED (FIN√ÅLN√ç VERZE) -->
<style>
.photo-block {
  border:1px solid #ccc;
  border-radius:10px;
  padding:14px 12px 10px;
  margin-top:16px;
  background:linear-gradient(180deg,#f8f8f8 0%,#ececec 100%);
  transition:background .2s,transform .1s;
  cursor:pointer;
}
.photo-block:hover {
  background:#f2f2f2;
  transform:scale(1.01);
}
.photo-title {
  font-size:0.75em;
  font-weight:700;
  color:#333;
  margin-bottom:8px;
  text-transform:uppercase;
  letter-spacing:0.8px;
}
.photo-preview {
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:flex-start;
  align-items:flex-start;
}
.photo-thumb {
  width:90px;
  height:60px;
  border-radius:6px;
  object-fit:cover;
  border:1px solid #ccc;
  box-shadow:0 2px 5px rgba(0,0,0,0.15);
  cursor:pointer;
  transition:transform .15s ease, box-shadow .2s ease;
}
.photo-thumb:hover {
  transform:scale(1.05);
  box-shadow:0 3px 10px rgba(0,0,0,0.25);
}

/* üß≠ MOD√ÅLN√ç N√ÅHLED ‚Äì pinch-zoom + posun */
.photo-modal {
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  justify-content:center;
  align-items:center;
  z-index:9999;
  overflow:hidden;
}
.photo-modal.active { display:flex; }

.photo-modal-content {
  background:transparent;
  border-radius:14px;
  max-width:95vw;
  max-height:95vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  position:relative;
}
#modalImg {
  width:auto;
  height:auto;
  max-width:90vw;
  max-height:85vh;
  border-radius:10px;
  object-fit:contain;
  transition:transform .2s ease;
  cursor:grab;
  touch-action:none;
}
#modalImg:active { cursor:grabbing; }

.photo-modal-buttons {
  display:flex;
  gap:14px;
  margin-top:14px;
  position:absolute;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
}
.btn-delete,
.btn-close {
  font-weight:600;
  font-size:1em;
  border:none;
  border-radius:10px;
  padding:12px 26px;
  cursor:pointer;
  box-shadow:0 3px 8px rgba(0,0,0,0.25);
  transition:transform .15s ease,opacity .2s ease;
}
.btn-delete {
  background:linear-gradient(135deg,#e63946,#ff6b6b);
  color:#fff;
}
.btn-close {
  background:linear-gradient(135deg,#9b9b9b,#bfbfbf);
  color:#fff;
}
.btn-delete:hover,
.btn-close:hover {
  transform:scale(1.05);
  opacity:0.9;
}
</style>

<!-- üü® BLOKY FOTEK -->
<div class="photo-block" data-section="before">
  <div class="photo-title">BEFORE</div>
  <div class="photo-preview" id="preview-before"></div>
</div>

<div class="photo-block" data-section="id">
  <div class="photo-title">ID</div>
  <div class="photo-preview" id="preview-id"></div>
</div>

<div class="photo-block" data-section="problem">
  <div class="photo-title">DETAIL BUG</div>
  <div class="photo-preview" id="preview-problem"></div>
</div>

<div class="photo-block" data-section="repair">
  <div class="photo-title">REPAIR</div>
  <div class="photo-preview" id="preview-repair"></div>
</div>

<div class="photo-block" data-section="after">
  <div class="photo-title">AFTER</div>
  <div class="photo-preview" id="preview-after"></div>
</div>

<!-- üü® SKRYT√ù INPUT + PROGRESS -->
<input type="file" id="photoInput" accept="image/jpeg,image/png,image/heic" multiple hidden>
<div class="progress-bar-container">
  <div class="progress-bar-fill" id="progressFill"></div>
</div>

<!-- üü® MOD√ÅLN√ç OKNO -->
<div id="photoModal" class="photo-modal">
  <div class="photo-modal-content">
    <img id="modalImg" src="">
    <div class="photo-modal-buttons">
      <button id="btnDeletePhoto" class="btn-delete">Odstranit</button>
      <button id="btnClosePhoto" class="btn-close">Zav≈ô√≠t</button>
    </div>
  </div>
</div>

<!-- üü® LOGIKA BLOK≈Æ -->
<script>
(function(){
  const input=document.getElementById("photoInput");
  const sections={before:[],id:[],problem:[],repair:[],after:[]};
  const fill=document.getElementById("progressFill");
  const modal=document.getElementById("photoModal");
  const modalImg=document.getElementById("modalImg");
  const btnDelete=document.getElementById("btnDeletePhoto");
  const btnClose=document.getElementById("btnClosePhoto");
  const data=JSON.parse(localStorage.getItem("currentCustomer")||"{}");
  const orderNum=data.cislo||"";
  let uploadBtn=null;

  let currentSection=null,currentIndex=null;

  // üîπ Klikac√≠ bloky
  document.querySelectorAll(".photo-block").forEach(block=>{
    block.addEventListener("click",()=>{
      input.dataset.section=block.dataset.section;
      input.click();
    });
  });

  // üîπ Po v√Ωbƒõru fotek
  input.addEventListener("change",async()=>{
    const section=input.dataset.section;
    if(!section)return;
    const files=Array.from(input.files).slice(0,10);
    for(const [i,f] of files.entries()){
      const blob=await compressImage(f,90);
      const url=URL.createObjectURL(blob);
      const originalURL=URL.createObjectURL(f);
      const name=`${section}-${orderNum}-${i+1}`;
      const orientation=await getOrientation(f);
      sections[section].push({blob,url,originalURL,name,orientation});
    }
    render(section);
    input.value="";
  });

  async function compressImage(file,maxDim=90){
    const img=await createImageBitmap(file);
    const canvas=document.createElement("canvas");
    let[w,h]=[img.width,img.height];
    const ratio=w/h;
    if(w>h&&w>maxDim){h=Math.round(maxDim/ratio);w=maxDim;}
    else if(h>w&&h>maxDim){w=Math.round(maxDim*ratio);h=maxDim;}
    canvas.width=w;canvas.height=h;
    const ctx=canvas.getContext("2d");
    ctx.drawImage(img,0,0,w,h);
    return new Promise(r=>canvas.toBlob(r,"image/jpeg",0.85));
  }

  async function getOrientation(file){
    const img=await createImageBitmap(file);
    return img.width>img.height?"landscape":"portrait";
  }

  // üîπ Zobrazen√≠ miniatur
  function render(section){
    const cont=document.getElementById("preview-"+section);
    cont.innerHTML="";
    sections[section].forEach((p,i)=>{
      const img=document.createElement("img");
      img.src=p.url;
      img.className="photo-thumb "+(p.orientation==="portrait"?"portrait":"landscape");
      img.title=p.name;
      img.onclick=()=>openModal(section,i);
      cont.append(img);
    });
  }

  // üîπ Otev≈ôen√≠ mod√°lu s velk√Ωm origin√°lem
  function openModal(section,i){
    currentSection=section;
    currentIndex=i;
    const photo=sections[section][i];
    modalImg.src=photo.originalURL||photo.url;
    resetTransform();
    modal.classList.add("active");
  }

  btnClose.addEventListener("click",()=>{modal.classList.remove("active");resetTransform();});
  modal.addEventListener("click",e=>{if(e.target===modal){modal.classList.remove("active");resetTransform();}});

  btnDelete.addEventListener("click",()=>{
    if(currentSection!==null&&currentIndex!==null){
      sections[currentSection].splice(currentIndex,1);
      render(currentSection);
      modal.classList.remove("active");
      resetTransform();
    }
  });

  // üß≠ Zoom & Pan (touch + trackpad)
  let scale=1,startDist=0,moveX=0,moveY=0,startX=0,startY=0,dragging=false,lastX=0,lastY=0;
  function resetTransform(){scale=1;moveX=0;moveY=0;modalImg.style.transform="translate(0,0) scale(1)";}

  modalImg.addEventListener("wheel",e=>{
    e.preventDefault();
    const delta=e.deltaY>0?-0.1:0.1;
    scale=Math.min(Math.max(1,scale+delta),5);
    modalImg.style.transform=`translate(${moveX}px,${moveY}px) scale(${scale})`;
  });

  modalImg.addEventListener("mousedown",e=>{
    dragging=true;lastX=e.clientX;lastY=e.clientY;
  });
  modalImg.addEventListener("mousemove",e=>{
    if(!dragging)return;
    moveX+=e.clientX-lastX;moveY+=e.clientY-lastY;
    lastX=e.clientX;lastY=e.clientY;
    modalImg.style.transform=`translate(${moveX}px,${moveY}px) scale(${scale})`;
  });
  window.addEventListener("mouseup",()=>dragging=false);

  modalImg.addEventListener("touchstart",e=>{
    if(e.touches.length===2){
      startDist=Math.hypot(
        e.touches[0].clientX-e.touches[1].clientX,
        e.touches[0].clientY-e.touches[1].clientY
      );
    }else if(e.touches.length===1){
      startX=e.touches[0].clientX;startY=e.touches[0].clientY;
    }
  },{passive:false});

  modalImg.addEventListener("touchmove",e=>{
    if(e.touches.length===2){
      e.preventDefault();
      const newDist=Math.hypot(
        e.touches[0].clientX-e.touches[1].clientX,
        e.touches[0].clientY-e.touches[1].clientY
      );
      const delta=(newDist-startDist)/200;
      scale=Math.min(Math.max(1,scale+delta),5);
      startDist=newDist;
      modalImg.style.transform=`translate(${moveX}px,${moveY}px) scale(${scale})`;
    }else if(e.touches.length===1&&scale>1){
      e.preventDefault();
      const dx=e.touches[0].clientX-startX;
      const dy=e.touches[0].clientY-startY;
      moveX+=dx;moveY+=dy;
      startX=e.touches[0].clientX;startY=e.touches[0].clientY;
      modalImg.style.transform=`translate(${moveX}px,${moveY}px) scale(${scale})`;
    }
  },{passive:false});

  // üîπ Upload v≈°ech fotek ‚Äì procenta v tlaƒç√≠tku
  async function uploadAll(){
    uploadBtn=document.getElementById("btnUploadAll");
    const all=Object.values(sections).flat();
    if(!all.length)return alert("Nen√≠ vybr√°na ≈æ√°dn√° fotografie.");
    let uploaded=0;
    uploadBtn.disabled=true;
    for(const p of all){
      await new Promise(r=>setTimeout(r,200));
      uploaded++;
      const pct=Math.round((uploaded/all.length)*100);
      fill.style.width=pct+"%";
      if(uploadBtn) uploadBtn.innerText=`NAHR√ÅV√ÅM ‚Äì ${pct}%`;
    }
    if(uploadBtn){uploadBtn.innerText="NAHR√ÅT";uploadBtn.disabled=false;}
  }
  window.uploadAll=uploadAll;
})();
</script>
<!-- üü© KONEC ƒå√ÅSTI 2/3 ‚Äì BLOKY FOTEK + MOD√ÅLN√ç N√ÅHLED (FIN√ÅLN√ç VERZE) -->


<!-- üü© ZAƒå√ÅTEK ƒå√ÅSTI 3/3 ‚Äì SJEDNOCEN√Å TLAƒå√çTKA (NA PIXEL STEJN√Å) -->
<div class="actions dual-actions" id="uploadSection">
  <button type="button" id="btnUploadAll" class="btn-uniform green">NAHR√ÅT</button>
  <button type="button" id="btnSendToDetail" class="btn-uniform blue">ODESLAT DO DETAILU Z√ÅKAZN√çKA</button>
</div>

<div class="actions dual-actions" style="margin-top:10px;">
  <a href="index.html" class="btn-uniform gray">ZPƒöT</a>
  <button type="button" id="btnExportPdf" class="btn-uniform lightblue">EXPORT TO PDF</button>
</div>

<div class="wait-overlay" id="waitOverlay">
  <div class="hourglass"></div>
  <p>Nahr√°v√°m fotografie...</p>
</div>

<style>
.dual-actions{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px;
  margin-top:30px;
}
.btn-uniform{
  flex:1 1 45%;
  max-width:320px;
  padding:14px 28px;
  min-height:56px;
  font-size:1em;
  font-weight:600;
  border:none;
  border-radius:8px;
  cursor:pointer;
  color:#fff;
  text-align:center;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 3px 8px rgba(0,0,0,0.15);
  transition:transform .15s ease,opacity .2s ease;
  white-space:normal;
  line-height:1.2;
  box-sizing:border-box;
  appearance:none;
  -webkit-appearance:none;
}
.btn-uniform:hover{transform:scale(1.05);opacity:.9;}
.btn-uniform.green{background:linear-gradient(135deg,#00b56a,#00da80);}
.btn-uniform.blue{background:linear-gradient(135deg,#0090d4,#33b6ff);}
.btn-uniform.lightblue{background:linear-gradient(135deg,#00aaff,#66ccff);}
.btn-uniform.gray{background:linear-gradient(135deg,#9b9b9b,#bfbfbf);}
.wait-overlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(255,255,255,0.85);
  backdrop-filter:blur(2px);
  justify-content:center;
  align-items:center;
  flex-direction:column;
  font-weight:600;
  color:#333;
  z-index:2000;
}
.wait-overlay.active{display:flex;}
.hourglass{
  border:4px solid #ccc;
  border-top:4px solid #00b56a;
  border-radius:50%;
  width:40px;
  height:40px;
  animation:spin 1s linear infinite;
  margin-bottom:10px;
}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
</style>

<!-- üü® NOTIFIKACE -->
<div id="notif" class="notif"></div>
<style>
.notif{
  position:fixed;
  top:15px;
  left:50%;
  transform:translateX(-50%);
  min-width:260px;
  max-width:90%;
  padding:12px 20px;
  border-radius:10px;
  font-weight:600;
  font-size:0.9em;
  color:#fff;
  text-align:center;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
  opacity:0;
  pointer-events:none;
  z-index:9999;
  transition:opacity .3s,transform .3s;
}
.notif.show{opacity:1;transform:translateX(-50%) translateY(0);}
.notif.success{background:linear-gradient(135deg,#00b56a,#00da80);}
.notif.warning{background:linear-gradient(135deg,#ffb200,#ffca40);color:#333;}
.notif.error{background:linear-gradient(135deg,#e63946,#ff6b6b);}
</style>

<!-- üü® LOGIKA TLAƒå√çTEK -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const uploadBtn = document.getElementById("btnUploadAll");
  const sendBtn = document.getElementById("btnSendToDetail");
  const exportBtn = document.getElementById("btnExportPdf");
  const wait = document.getElementById("waitOverlay");

  window.showNotif = function(type="success", text="Hotovo") {
    const n=document.getElementById("notif");
    if(!n) return;
    n.className=`notif ${type}`;
    n.textContent=text;
    n.classList.add("show");
    clearTimeout(window._notifTimer);
    window._notifTimer=setTimeout(()=>n.classList.remove("show"),2500);
  };

  // üîπ Upload fotek
  uploadBtn?.addEventListener("click", async () => {
    try {
      wait?.classList.add("active");
      if (typeof window.uploadAll === "function") {
        await window.uploadAll();
        showNotif("success","Fotky byly nahr√°ny");
      } else {
        showNotif("warning","Funkce uploadAll() nen√≠ dostupn√°");
      }
    } catch(e) {
      console.error(e);
      showNotif("error","Chyba p≈ôi nahr√°v√°n√≠");
    } finally {
      wait?.classList.remove("active");
    }
  });

  // üîπ Export PDF
  exportBtn?.addEventListener("click", async () => {
    try {
      if (typeof window.generatePdf === "function") {
        await window.generatePdf();
        showNotif("success","PDF vytvo≈ôeno");
      } else {
        showNotif("warning","Export PDF zat√≠m nen√≠ aktivn√≠");
      }
    } catch(e) {
      console.error(e);
      showNotif("error","Chyba p≈ôi exportu PDF");
    }
  });

  // üîπ Odeslat PDF do detailu z√°kazn√≠ka
  sendBtn?.addEventListener("click", async () => {
    try {
      showNotif("success","Generuji PDF...");
      if (typeof window.generatePdf === "function") {
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF("p","mm","a4");
        const blob = pdf.output("blob");
        const reader = new FileReader();
        reader.onloadend = function() {
          const base64 = reader.result;
          localStorage.setItem("photoPdfData", base64);
          showNotif("success","Odes√≠l√°m do detailu...");
          setTimeout(()=>{ window.location.href="protokol.html"; }, 1200);
        };
        await window.generatePdf();
        reader.readAsDataURL(blob);
      } else {
        showNotif("warning","Nelze vytvo≈ôit PDF");
      }
    } catch(e) {
      console.error(e);
      showNotif("error","Chyba p≈ôi odes√≠l√°n√≠ PDF");
    }
  });
});
</script>

<footer style="text-align:center;margin:30px 0 20px;font-size:0.8em;color:#888;">
  White Glove Service s.r.o. ‚Ä¢ ¬© 2025
</footer>
<!-- üü© KONEC ƒå√ÅSTI 3/3 ‚Äì SJEDNOCEN√Å TLAƒå√çTKA (NA PIXEL STEJN√Å) -->







<!-- üü© ZAƒå√ÅTEK SEKCE 4/4 ‚Äì EXPORT DO PDF (AKTUALIZOV√ÅNO PRO SPR√ÅVN√â POMƒöRY) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
window.generatePdf = async function(){
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF("p","mm","a4");
  const margin = 15;
  let y = 25;
  const lineHeight = 6;
  const data = JSON.parse(localStorage.getItem("currentCustomer") || "{}");

  // üßæ HLAVIƒåKA
  pdf.setFont("helvetica", "bold");
  pdf.setFontSize(18);
  pdf.text("WHITE GLOVE SERVICE", margin, y);
  y += 10;

  pdf.setFont("helvetica", "normal");
  pdf.setFontSize(11);
  if (data.zakaznik) { pdf.text(`Customer: ${data.zakaznik}`, margin, y); y += lineHeight; }
  if (data.adresa) { pdf.text(`Address: ${data.adresa}`, margin, y); y += lineHeight; }
  if (data.cislo) { pdf.text(`Order number: ${data.cislo}`, margin, y); y += 10; }

  // üñº SEZNAM SEKƒå√ç
  const sections = [
    { id:"before", label:"BEFORE" },
    { id:"id", label:"ID" },
    { id:"problem", label:"DETAIL BUG" },
    { id:"repair", label:"REPAIR" },
    { id:"after", label:"AFTER" }
  ];

  for (const sec of sections) {
    const el = document.getElementById("preview-" + sec.id);
    if (!el || !el.children.length) continue;

    // Nadpis sekce
    pdf.setFont("helvetica", "bold");
    pdf.setFontSize(13);
    pdf.text(sec.label, margin, y);
    y += 6;

    pdf.setFont("helvetica", "normal");
    pdf.setFontSize(10);

    // Obr√°zky v sekci
    const imgs = Array.from(el.querySelectorAll("img"));
    const gap = 10;
    const baseWidth = 85; // max. ≈°√≠≈ôka obr√°zku v PDF (mm)
    let x = margin;

    for (let i = 0; i < imgs.length; i++) {
      const img = imgs[i];

      // üìè Urƒçen√≠ skuteƒçn√©ho pomƒõru stran
      const naturalWidth = img.naturalWidth || 180;
      const naturalHeight = img.naturalHeight || 120;
      const ratio = naturalWidth / naturalHeight;

      // üîÑ P≈ôepoƒçet rozmƒõr≈Ø podle pomƒõru stran
      let imgWidth = baseWidth;
      let imgHeight = imgWidth / ratio;

      // P≈ôi orientaci "na v√Ω≈°ku" zarovnej v√Ω≈°ku
      if (ratio < 1) {
        imgHeight = 85;
        imgWidth = imgHeight * ratio;
      }

      // üì∏ P≈ôevod obr√°zku na dataURL
      const canvas = await html2canvas(img, { scale: 2 });
      const imgData = canvas.toDataURL("image/jpeg", 0.85);

      // üìÑ Nov√Ω ≈ô√°dek po 2 fotk√°ch
      if (i % 2 === 0 && i > 0) {
        y += imgHeight + 10;
        x = margin;
      }

      // üìÑ Nov√° str√°nka, pokud se nevejde
      if (y + imgHeight + 25 > 285) {
        pdf.addPage();
        y = 25;
      }

      pdf.addImage(imgData, "JPEG", x, y, imgWidth, imgHeight);
      x += imgWidth + gap;
    }

    y += 90; // odstup mezi sekcemi
  }

  // üìÖ DATUM GENEROV√ÅN√ç
  const today = new Date().toLocaleDateString("cs-CZ");
  pdf.setFont("helvetica", "italic");
  pdf.setFontSize(9);
  pdf.text(`Generated on ${today}`, margin, 290);

  // üíæ ULO≈ΩEN√ç
  const filename = data.cislo
    ? `photo_${data.cislo}.pdf`
    : "photo_report.pdf";
  pdf.save(filename);
};
</script>
<!-- üü© KONEC SEKCE 4/4 ‚Äì EXPORT DO PDF (AKTUALIZOV√ÅNO PRO SPR√ÅVN√â POMƒöRY) -->



  
  
</body>
</html>
<!-- üü© KONEC ƒå√ÅSTI 3/3 -->
