/*!
 * Vanilla Calendar v2.8.1
 * (c) 2024 Umal Ghosh
 * License: MIT
 */
class VanillaCalendar{constructor(t,e={}){this.selector=t,this.options=e,this.settings=Object.assign({lang:"cs",selection:{day:"single"},visibility:{theme:"light"}},e.settings||{}),this.actions=e.actions||{},this.init()}init(){const t=document.querySelector(this.selector);if(!t)return;const e=new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),t.innerHTML=this.render();this.updateDays(),this.addEventListeners()}render(){return`
    <div class="vanilla-calendar">
      <div class="vanilla-calendar-header">
        <button class="vanilla-calendar-arrow" data-dir="-1">‹</button>
        <div class="vanilla-calendar-header__content">
          <span class="vanilla-calendar-month"></span>
          <span class="vanilla-calendar-year"></span>
        </div>
        <button class="vanilla-calendar-arrow" data-dir="1">›</button>
      </div>
      <div class="vanilla-calendar-week">
        <span>Po</span><span>Út</span><span>St</span><span>Čt</span><span>Pá</span><span>So</span><span>Ne</span>
      </div>
      <div class="vanilla-calendar-days"></div>
    </div>`}updateDays(){const t=document.querySelector(this.selector),e=t.querySelector(".vanilla-calendar-days"),a=new Date(this.currentYear,this.currentMonth,1),n=a.getDay()||7,s=new Date(this.currentYear,this.currentMonth+1,0).getDate();t.querySelector(".vanilla-calendar-month").textContent=a.toLocaleString("cs-CZ",{month:"long"}),t.querySelector(".vanilla-calendar-year").textContent=this.currentYear,e.innerHTML="";for(let t=1;t<n;t++){const t=document.createElement("div");e.appendChild(t)}for(let t=1;t<=s;t++){const a=document.createElement("button");a.textContent=t,a.className="vanilla-calendar-day__btn";const n=`${this.currentYear}-${String(this.currentMonth+1).padStart(2,"0")}-${String(t).padStart(2,"0")}`;a.dataset.calendarDay=n;const s=new Date;if(n===s.toISOString().split("T")[0])a.classList.add("vanilla-calendar-day__btn_today");a.addEventListener("click",i=>{this.actions.clickDay&&this.actions.clickDay(i,this),t.querySelectorAll(".vanilla-calendar-day__btn_selected").forEach(t=>t.classList.remove("vanilla-calendar-day__btn_selected")),a.classList.add("vanilla-calendar-day__btn_selected")}),e.appendChild(a)}}addEventListeners(){const t=document.querySelector(this.selector);t.querySelectorAll(".vanilla-calendar-arrow").forEach(e=>{e.addEventListener("click",()=>{this.currentMonth+=parseInt(e.dataset.dir),this.currentMonth<0&&(this.currentMonth=11,this.currentYear--),this.currentMonth>11&&(this.currentMonth=0,this.currentYear++),this.updateDays()})})}}
window.VanillaCalendar=VanillaCalendar;
