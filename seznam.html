<!-- 🟣🟣🟣 WGS SEZNAM REKLAMACÍ – DARK NEON STYLE (část 1/4) -->
<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Seznam reklamací – White Glove Service</title>

<style>
/* 🌌 ZÁKLADNÍ POZADÍ */
body {
  margin:0;
  font-family:"Inter",system-ui,sans-serif;
  background:radial-gradient(circle at center,#1a1a2e 0%,#0f0f1a 45%,#000 100%);
  color:#e0e0ff;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* 🪞 WRAPPER */
.wrapper{
  width:100%;
  max-width:1200px;
  background:rgba(20,20,40,0.6);
  border:1px solid rgba(100,100,255,0.2);
  backdrop-filter:blur(12px);
  border-radius:18px;
  box-shadow:
    0 0 20px rgba(80,0,255,0.3),
    inset 0 0 25px rgba(0,0,100,0.2);
  margin:40px 15px;
  padding:25px 20px 40px;
  box-sizing:border-box;
}

/* 🔱 HLAVIČKA */
h1{
  text-align:center;
  font-size:2.4em;
  font-weight:900;
  color:#9d8cff;
  text-shadow:0 0 8px rgba(160,140,255,0.6),0 0 25px rgba(90,70,255,0.4);
  margin:0 0 8px;
  letter-spacing:0.5px;
}
h2{
  text-align:center;
  color:#7fd0ff;
  font-weight:500;
  font-size:1em;
  letter-spacing:2px;
  margin:0 0 30px;
  text-transform:uppercase;
}
@keyframes glowPulse{
  0%,100%{opacity:1;text-shadow:0 0 15px rgba(140,120,255,0.4);}
  50%{opacity:.9;text-shadow:0 0 30px rgba(160,120,255,0.8);}
}
h1,h2{animation:glowPulse 4s ease-in-out infinite;}

/* 🔘 TLAČÍTKA */
.actions{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:14px;
  margin-bottom:30px;
}
.btn{
  padding:12px 26px;
  border:none;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
  letter-spacing:0.5px;
  font-size:1em;
  text-decoration:none;
  color:#fff;
  transition:transform .2s,box-shadow .3s;
}
.btn:hover{transform:translateY(-2px);}

/* 🟣 Zpět */
.btn-back{
  background:linear-gradient(135deg,#4b3bff,#7a5cff);
  box-shadow:0 0 15px rgba(120,90,255,0.4);
}
.btn-back:hover{box-shadow:0 0 25px rgba(150,110,255,0.6);}

/* 🔵 Načíst znovu */
.btn-refresh{
  background:linear-gradient(135deg,#0090ff,#33b5ff);
  box-shadow:0 0 15px rgba(0,180,255,0.35);
}
.btn-refresh:hover{box-shadow:0 0 25px rgba(0,180,255,0.6);}

/* 🟢 Hotové reklamace */
.btn-green{
  background:linear-gradient(135deg,#00c774,#00ff99);
  box-shadow:0 0 15px rgba(0,255,180,0.35);
}
.btn-green:hover{box-shadow:0 0 25px rgba(0,255,180,0.6);}

/* 🔷 Plán dne */
.btn-plan{
  background:linear-gradient(135deg,#0066ff,#33aaff);
  box-shadow:0 0 15px rgba(0,120,255,0.4);
}
.btn-plan:hover{box-shadow:0 0 25px rgba(0,150,255,0.6);}

/* 📋 TABULKA – tmavý minimalistický styl */
table {
  width:100%;
  border-collapse:collapse;
  background:rgba(255,255,255,0.03);
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 0 20px rgba(0,0,80,0.25);
}
th,td {
  padding:12px 10px;
  text-align:left;
  font-size:0.95em;
  border-bottom:1px solid rgba(120,120,255,0.1);
}
th {
  background:rgba(60,60,120,0.5);
  color:#a8b9ff;
  text-transform:uppercase;
  font-weight:700;
  letter-spacing:0.5px;
}
tr:hover{background:rgba(120,120,255,0.08);}
</style>
</head>

<body>
<div class="wrapper">
  <h1>WGS</h1>
  <h2>Seznam reklamací</h2>

  <div class="actions">
    <a href="index.html" class="btn btn-back">Zpět</a>
    <button id="reloadBtn" class="btn btn-refresh">Načíst znovu</button>
    <a href="hotove.html" class="btn btn-green">Hotové reklamace</a>
    <button id="planBtn" class="btn btn-plan">Plán dne</button>
  </div>

<!-- 🟣🟣🟣 WGS SEZNAM REKLAMACÍ – DARK NEON STYLE (část 2/4) -->
<style>
/* 🟩 MODÁLNÍ DETAIL ZÁKAZNÍKA */
.modal-overlay {
  position:fixed; inset:0;
  background:rgba(0,0,0,0.8);
  backdrop-filter:blur(8px);
  display:none; justify-content:center; align-items:center;
  z-index:5000;
}
.modal-overlay.active {display:flex;}

.modal-box {
  width:92%; max-width:900px;
  background:radial-gradient(circle at top left,#101020 0%,#0a0a15 100%);
  border-radius:14px;
  box-shadow:
    0 0 25px rgba(100,0,255,0.4),
    inset 0 0 25px rgba(0,0,80,0.3);
  color:#e5e9ff;
  padding:25px;
  position:relative;
  overflow-y:auto;
  max-height:90vh;
}
.modal-box h3{
  color:#9d8cff;
  border-bottom:1px solid rgba(120,120,255,0.2);
  padding-bottom:5px;
  margin-top:0;
}
.modal-close {
  position:absolute;top:12px;right:12px;
  background:linear-gradient(135deg,#e63946,#ff7070);
  border:none;color:#fff;border-radius:8px;
  padding:6px 10px;font-weight:600;cursor:pointer;
  box-shadow:0 0 10px rgba(255,0,80,0.4);
}
.modal-close:hover{box-shadow:0 0 20px rgba(255,80,120,0.6);}

/* 🟩 KALENDÁŘ – NEON ZELENÝ */
.calendar-container {
  background:rgba(0,30,0,0.5);
  border:1px solid rgba(0,255,100,0.3);
  border-radius:10px;
  padding:10px;
  box-shadow:0 0 25px rgba(0,255,120,0.3);
  margin-top:18px;
  color:#9fffcb;
  font-size:0.9em;
  text-align:center;
}
.calendar-day {
  display:inline-block;
  width:34px;height:34px;
  line-height:34px;
  margin:2px;border-radius:6px;
  cursor:pointer;
  transition:all .2s;
}
.calendar-day:hover {
  background:rgba(0,255,100,0.15);
  box-shadow:0 0 8px rgba(0,255,100,0.6);
}
.calendar-day.active {
  background:linear-gradient(135deg,#00ff99,#33ffaa);
  color:#000;
  box-shadow:0 0 12px rgba(0,255,100,0.9);
}

/* 🟩 NOVÉ TLAČÍTKO FOTODOKUMENTACE */
.btn-photos {
  background:linear-gradient(135deg,#00b56a,#00ff99);
  color:#000;
  font-weight:700;
  border:none;
  border-radius:8px;
  padding:10px 18px;
  margin-top:15px;
  cursor:pointer;
  box-shadow:0 0 15px rgba(0,255,120,0.4);
  transition:transform .15s;
}
.btn-photos:hover {
  transform:scale(1.05);
  box-shadow:0 0 25px rgba(0,255,120,0.6);
}
</style>

<!-- 🧩 MODÁLNÍ OKNO DETAILU -->
<div id="detailModal" class="modal-overlay">
  <div class="modal-box">
    <button class="modal-close" onclick="closeDetail()">Zavřít</button>
    <h3 id="detailName">Zákazník</h3>
    <p><strong>Adresa:</strong> <span id="detailAddress">–</span></p>
    <p><strong>Telefon:</strong> <span id="detailPhone">–</span></p>
    <p><strong>Popis závady:</strong></p>
    <p id="detailDesc" style="white-space:pre-wrap;background:rgba(255,255,255,0.03);padding:10px;border-radius:6px;"></p>

    <!-- 🟩 Kalendář -->
    <div id="calendar" class="calendar-container"></div>

    <!-- 🟩 Nové tlačítko na fotky -->
    <button class="btn-photos" id="photoBtn">📷 Zobrazit fotodokumentaci</button>
  </div>
</div>

<script>
const modal=document.getElementById("detailModal");
const detailName=document.getElementById("detailName");
const detailAddress=document.getElementById("detailAddress");
const detailPhone=document.getElementById("detailPhone");
const detailDesc=document.getElementById("detailDesc");
const photoBtn=document.getElementById("photoBtn");

/* 🟦 Otevření detailu */
function openDetail(item){
  detailName.textContent=item.zakaznik||"–";
  detailAddress.textContent=item.adresa||"–";
  detailPhone.textContent=item.telefon||"–";
  detailDesc.textContent=item.popis||"–";
  modal.classList.add("active");

  generateCalendar();
  photoBtn.onclick=()=>openPhotoViewer(item.cislo||"");
}

/* 🟦 Zavření detailu */
function closeDetail(){modal.classList.remove("active");}

/* 🟩 NEON ZELENÝ KALENDÁŘ – jednoduchý měsíční přehled */
function generateCalendar(){
  const now=new Date();
  const year=now.getFullYear();
  const month=now.getMonth();
  const first=new Date(year,month,1);
  const days=new Date(year,month+1,0).getDate();
  let html=`<strong>${now.toLocaleString('cs-CZ',{month:'long'})} ${year}</strong><br>`;
  for(let d=1;d<=days;d++){
    html+=`<span class="calendar-day">${d}</span>`;
  }
  document.getElementById("calendar").innerHTML=html;
  const today=document.querySelectorAll(".calendar-day")[now.getDate()-1];
  if(today) today.classList.add("active");
}

/* 🟩 Zobrazení fotodokumentace – otevře nové okno */
async function openPhotoViewer(orderNumber){
  if(!orderNumber){alert("Chybí číslo zakázky.");return;}
  const url=`photocustomer.html?cislo=${encodeURIComponent(orderNumber)}`;
  window.open(url,"_blank");
}

/* 🟦 DEMO pro kliknutí na tabulku (bude navazovat na část 3/4) */
window.showDetailExample=()=>{
  openDetail({zakaznik:"Jan Novák",adresa:"Praha 1",telefon:"+420 777 111 222",popis:"Opotřebení potahu – levá opěrka.",cislo:"NCE1234"});
};
</script>
<!-- 🟣🟣🟣 WGS SEZNAM REKLAMACÍ – DARK NEON STYLE (část 3/4) -->
<style>
/* 🟦 STAVY ŘÁDKŮ */
tr.new td {background:rgba(255,240,120,0.08);color:#fff176;}
tr.new td:first-child::before{content:"🟡 ";}

tr.done td {background:rgba(0,180,255,0.08);color:#66ccff;}
tr.done td:first-child::before{content:"🔵 ";}

tr.cancelled td {background:rgba(255,80,80,0.08);color:#ff8080;}
tr.cancelled td:first-child::before{content:"🔴 ";}
</style>

<table id="ordersTable">
  <thead>
    <tr>
      <th>Zákazník</th>
      <th>Adresa</th>
      <th>Telefon</th>
      <th>Stav</th>
    </tr>
  </thead>
  <tbody>
    <tr><td colspan="4" style="text-align:center;padding:25px;">Načítám data...</td></tr>
  </tbody>
</table>

<script>
const tableBody=document.querySelector("#ordersTable tbody");
const reloadBtn=document.getElementById("reloadBtn");
let allOrders=[];

/* 🟩 NAČTENÍ DAT Z WORKERU */
async function loadOrders(){
  try{
    tableBody.innerHTML=`<tr><td colspan="4" style="text-align:center;color:#888;">🔄 Načítám data...</td></tr>`;
    const base="https://wgs-token.72nvwf4pb2.workers.dev";
    const urls=[`${base}/orders`, `${base}/hotove`, `${base}/temporaryfiles`];
    const results=await Promise.all(
      urls.map(u=>fetch(u+"?"+Date.now())
      .then(r=>r.json())
      .catch(()=>[]))
    );
    allOrders = results.flat().filter(Boolean);
    renderOrders();
  }catch(e){
    console.error("❌ Chyba načítání:", e);
    tableBody.innerHTML = `<tr><td colspan="4" style="text-align:center;color:#f66;">Chyba načítání dat</td></tr>`;
  }
}

/* 🟩 VYKRESLENÍ TABULKY */
function renderOrders(){
  if(!allOrders.length){
    tableBody.innerHTML=`<tr><td colspan="4" style="text-align:center;color:#999;">Žádné záznamy</td></tr>`;
    return;
  }

  tableBody.innerHTML=allOrders.map(item=>{
    const stav=(item.stav||"").toLowerCase();
    let cls="";
    if(stav.includes("nov"))cls="new";
    else if(stav.includes("domlu"))cls="done";
    else if(stav.includes("zru"))cls="cancelled";
    return `
      <tr class="${cls}" onclick='openDetail(${JSON.stringify(item)})'>
        <td>${item.zakaznik||"–"}</td>
        <td>${item.adresa||"–"}</td>
        <td>${item.telefon||"–"}</td>
        <td>${item.stav||"–"}</td>
      </tr>`;
  }).join("");
}

/* 🔁 TLAČÍTKO NAČÍST ZNOVU */
reloadBtn.onclick=loadOrders;

/* 🚀 START */
window.addEventListener("DOMContentLoaded",loadOrders);
</script>
<!-- 🟣🟣🟣 WGS SEZNAM REKLAMACÍ – DARK NEON STYLE (část 4/4 – ZÁVĚR) -->
<style>
/* ✨ ANIMOVANÉ POZADÍ */
body::before{
  content:"";
  position:fixed;inset:0;
  background:radial-gradient(circle at 20% 30%,rgba(0,255,180,0.08),transparent 60%),
             radial-gradient(circle at 80% 70%,rgba(120,0,255,0.08),transparent 60%),
             radial-gradient(circle at 50% 50%,rgba(0,128,255,0.05),transparent 70%);
  z-index:-1;
  animation:neonFlow 15s ease-in-out infinite alternate;
}
@keyframes neonFlow{
  0%{filter:hue-rotate(0deg);}
  50%{filter:hue-rotate(80deg);}
  100%{filter:hue-rotate(0deg);}
}

/* 🟩 TOOLTIP */
.tooltip{
  position:absolute;
  background:rgba(0,0,0,0.8);
  color:#9fffc7;
  padding:6px 10px;
  border-radius:6px;
  font-size:0.8em;
  pointer-events:none;
  opacity:0;
  transition:opacity .2s,transform .2s;
  transform:translateY(-6px);
  z-index:9999;
}
.tooltip.show{
  opacity:1;
  transform:translateY(0);
  box-shadow:0 0 12px rgba(0,255,120,0.4);
}

/* 🟩 NOTIFIKACE */
#notif{
  position:fixed;
  top:18px;left:50%;
  transform:translateX(-50%);
  background:linear-gradient(135deg,#00b56a,#00ff99);
  color:#000;
  padding:10px 20px;
  border-radius:10px;
  font-weight:700;
  box-shadow:0 0 18px rgba(0,255,120,0.4);
  opacity:0;
  transition:opacity .3s,transform .3s;
  z-index:6000;
}
#notif.show{
  opacity:1;
  transform:translate(-50%,10px);
}
#notif.error{
  background:linear-gradient(135deg,#ff5b5b,#e63946);
  color:#fff;
  box-shadow:0 0 18px rgba(255,80,80,0.5);
}

/* 🟪 PODPIS / FOOTER */
.footer{
  text-align:center;
  margin:45px 0 15px;
  font-size:0.85em;
  color:#888;
  text-shadow:0 0 10px rgba(100,100,255,0.2);
}
.footer span{
  color:#9d8cff;
  font-weight:600;
}
</style>

<div id="notif"></div>

<div class="footer">
  © 2025 <span>White Glove Service s.r.o.</span> · Neon WGS Interface v 2.0
</div>

<script>
/* 🟩 Funkce notifikace */
function showNotif(type="ok",text="Hotovo"){
  const n=document.getElementById("notif");
  n.textContent=text;
  n.className=type==="error"?"error show":"show";
  clearTimeout(window._notifTimer);
  window._notifTimer=setTimeout(()=>n.classList.remove("show"),2500);
}

/* 🟩 Tooltip helper */
let tooltip;
document.addEventListener("mouseover",e=>{
  const t=e.target.closest("[data-tip]");
  if(!t)return;
  tooltip=document.createElement("div");
  tooltip.className="tooltip";
  tooltip.textContent=t.dataset.tip;
  document.body.appendChild(tooltip);
  const r=t.getBoundingClientRect();
  tooltip.style.left=r.left+r.width/2+"px";
  tooltip.style.top=r.top-30+"px";
  requestAnimationFrame(()=>tooltip.classList.add("show"));
});
document.addEventListener("mouseout",()=>{if(tooltip){tooltip.remove();tooltip=null;}});
</script>

    

<!-- 🟪🟪🟪 KONEC STRÁNKY SEZNAM.HTML (NEON VERZE) -->
